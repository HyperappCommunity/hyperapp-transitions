!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.transitions={})}(this,function(n){"use strict";function t(n,t){Object.keys(t).forEach(function(e){n.style[e]=t[e]})}function e(){a.forEach(r)}function o(n){var t=n._x,e=n._y;if(!t)return"translate(0, 0)";var o=r(n);return"translate("+Math.floor(t-o.x)+"px, "+Math.floor(e-o.y)+"px)"}function r(n){var t=n.getBoundingClientRect();return n._x=t.left,n._y=t.top,{x:t.left,y:t.top}}function i(n,e,o,r,i){var u=e.easing||"linear",f=e.time||300;t(n,o),requestAnimationFrame(function(){requestAnimationFrame(function(){t(n,r),n.style.transition="all "+u+" "+f+"ms",setTimeout(function(){n.style.transition=null,i&&i()},f)})})}function u(n,t,e){"function"==typeof e&&(e=e()),function(n){var t=a.indexOf(n);-1!==t&&a.splice(t,1)}(n);var r=o(n);e.transform=r+(e.transform?" "+e.transform:""),i(n,t,{transform:r},e,function(){!function(n){n.parentNode.removeChild(n)}(n)})}function f(){}function c(n){return function(t,e){var o=n(t||{});return e.filter(function(n){return!!n.props}).map(function(n){return["oncreate","onupdate","onbeforeremove"].forEach(function(t){n.props[t]=function(n,t,e){if(n||t)return n&&!t&&(t=f),!n&&t&&(n=f),function(e){return n(e),t(e),f}}(n.props[t],o[t])}),n})}}addEventListener("resize",e),addEventListener("scroll",e);var a=[],s=c(function(n){return{oncreate:function(n){!function(n){a.indexOf(n)>-1||(r(n),a.push(n))}(n)}}}),l=c(function(n){return{onupdate:function(t){!function(n,t){i(n,t,{transform:o(n)},{transform:null})}(t,n)}}}),p=c(function(n){return{onbeforeremove:function(t){u(t,n,n.css||{})}}}),d=c(function(n){return{oncreate:function(t){!function(n,t,e){"function"==typeof e&&(e=e()),i(n,t,e,Object.keys(e).reduce(function(n,t){return n[t]=null,n},{}),function(){r(n)})}(t,n,n.css||{})}}});n.enter=d,n.move=function(n,t){return l(n,s(null,t))},n.exit=function(n,t){return p(n,s(null,t))},Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=hyperapp-transitions.js.map